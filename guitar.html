<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AlgoRhythms ‚Äî Guitar</title>

  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="guitar.css" />

  <script src="synth-core.js" defer></script>
  <script src="guitar.js" defer></script>
</head>

<body class="instrument-page">
  <div class="app">

    <!-- TOPBAR -->
    <div class="topbar" id="topbar">
      <a href="index.html" class="brand home-link">üé∏ AlgoRhythms</a>
      <div class="controls">
        <button id="recordBtn" class="record-btn">‚è∫ Record</button>

        <div class="rec-status" id="recIndicator">
          <div class="rec-dot"></div>
          <span id="recTimer">00:00</span>
        </div>

        <button id="stopBtn" class="stop-btn" disabled>‚èπ Stop</button>
      </div>
    </div>

    <!-- MAIN -->
    <div class="main" id="mainSection">
      <div class="visualizer"><canvas id="vizCanvas"></canvas></div>
      <div class="viz-divider" aria-hidden="true"></div>

      <div class="guitar-wrap">
        <div class="controls-row">
          <label>
            <input type="checkbox" id="strumMode" /> Strum mode
          </label>
          <label>
            Pick strength
            <input id="pickStrength" type="range" min="0.2" max="1.2" step="0.05" value="0.9" />
          </label>
          <label>
            Damping
            <input id="damping" type="range" min="0.85" max="0.999" step="0.001" value="0.95" />
          </label>
        </div>

        <div class="fretboard" id="fretboard" aria-hidden="false">
          <!-- six strings, open tuning E A D G B E (standard) -->
          <button class="string" data-freq="82.4069">E2</button>
          <button class="string" data-freq="110.000">A2</button>
          <button class="string" data-freq="146.832">D3</button>
          <button class="string" data-freq="196.00">G3</button>
          <button class="string" data-freq="246.942">B3</button>
          <button class="string" data-freq="329.628">E4</button>
        </div>

        <div style="text-align:center;margin-top:10px;color:var(--muted)">Click a string to pluck ‚Äî enable ‚ÄúStrum mode‚Äù to strum all strings left‚Üíright</div>
      </div>
    </div>

    <!-- RECORDINGS DOCK -->
    <div class="bottom-dock" id="bottomDock">
      <div class="dock-header" id="dockHeader">
        <span style="font-weight:600">üéß Saved Recordings</span>
        <div style="display:flex;align-items:center;gap:12px">
          <button id="clearAllBtn">Clear All</button>
          <span class="toggle-icon">‚ñ≤</span>
        </div>
      </div>
      <div class="recordings-list" id="recordingsList"></div>
    </div>
  </div>
</body>
</html>
